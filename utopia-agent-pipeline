node {
   stage("Code Check out"){
		git 'https://github.com/derekhcchou/UtopiaAirline_Agent.git'
   }
  
   stage("Compile-Package"){
       sh script: 'mvn clean install'
   }
   
   stage ("SonarQube-Analysys"){
        withSonarQubeEnv("sonorQube"){
            
             sh script: 'mvn sonar:sonar'
        }
   }
   
   stage("Create-Agent-Image"){
		git 'https://github.com/VanceaV/jenkinsPipeLines.git'
		sh script: 'docker build -t vanceav/travel-agent:latest -f DockerFileAgent .'
   
   }
}
